////////////////////////////////////////////////////////////////////////////////////////////////////
// NoesisGUI - http://www.noesisengine.com
// Copyright (c) 2013 Noesis Technologies S.L. All Rights Reserved.
////////////////////////////////////////////////////////////////////////////////////////////////////


#include "DelegateCommand.h"

#include <NsCore/ReflectionImplementEmpty.h>


using namespace Commands;


////////////////////////////////////////////////////////////////////////////////////////////////////
DelegateCommand::DelegateCommand(const ExecuteFunc& execute): _execute(execute)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
DelegateCommand::DelegateCommand(const ExecuteFunc& execute, const CanExecuteFunc& canExecute):
    _execute(execute), _canExecute(canExecute)
{
}

////////////////////////////////////////////////////////////////////////////////////////////////////
bool DelegateCommand::CanExecute(BaseComponent* param) const
{
    return _canExecute.Empty() || _canExecute(param);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void DelegateCommand::Execute(BaseComponent* param) const
{
    _execute(param);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
NS_IMPLEMENT_REFLECTION_(DelegateCommand)
